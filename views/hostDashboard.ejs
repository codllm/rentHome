<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <title>Host Dashboard</title>
  <link rel="stylesheet" href="/css/output.css">
</head>

<body class="bg-gray-50 min-h-screen">

  <%- include('partials/navbar') %>

    <div class="max-w-7xl mx-auto px-4 py-10">

      <!-- HEADER -->
      <div class="flex justify-between items-center mb-10">
        <h1 class="text-3xl font-bold">Your Listings</h1>

        <a href="/host/add" class="bg-black text-white px-6 py-3 rounded-lg hover:bg-gray-800">
          + Add New Home
        </a>
      </div>

      <!-- NO HOMES -->
      <% if (registerHomes.length===0) { %>
        <div class="text-center py-20 bg-white rounded-xl shadow">
          <p class="text-gray-500 text-lg">
            No homes added yet.
          </p>
        </div>
        <% } %>

          <!-- LISTINGS GRID -->
          <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6">

            <% for (let home of registerHomes) { %>

              <div class="bg-white rounded-2xl shadow hover:shadow-lg transition overflow-hidden">

                <!-- IMAGE -->
                <img src="<%= home.imageurl %>" class="h-48 w-full object-cover" alt="home">

                <!-- CONTENT -->
                <div class="p-5">

                  <h3 class="text-xl font-semibold mb-1">
                    <%= home.title %>
                  </h3>

                  <p class="text-gray-500 text-sm mb-2">
                    <%= home.location %>
                  </p>

                  <p class="text-lg font-bold mb-4">
                    â‚¹<%= home.price %> / night
                  </p>

                  <!-- ACTIONS -->
                  <div class="flex gap-3">
                    <a href="/homes/<%= home.id %>" class="flex-1 text-center border py-2 rounded-lg hover:bg-gray-100">
                      View
                    </a>

                    <form method="post" action="/delete-home/<%= home.id %>" class="flex-1">
                      <button type="submit" class="w-full bg-red-500 text-white py-2 rounded-lg hover:bg-red-600">
                        Delete
                      </button>
                    </form>

                  </div>

                </div>

              </div>

              <% } %>

          </div>

    </div>

</body>

</html>